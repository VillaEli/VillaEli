var isNative=function(){for(var t=null,e=[Object,Function,Number],n=0;null===t&&n<e.length;)-1===((t=e[n].prototype.toString)+"").indexOf("native")&&(t=null,n+=1);var r=Function.prototype.toString,o=/^\[object .+?Constructor\]$/,i=RegExp("^"+(t+"").replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return null===t?function(t){return!0}:function(e){var n=typeof e;return"function"==n?i.test(r.call(e)):e&&"object"==n&&o.test(t.call(e))||!1}}();!function(){if(function(t){var e="currentScript";e in t||Object.defineProperty(t,e,{get:function(){try{throw Error()}catch(u){var e,n,r,o=0,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(u.stack),c=i&&i[1]||!1,l=i&&i[2]||!1,a=t.location.href.replace(t.location.hash,""),s=t.getElementsByTagName("script");for(c===a&&(e=t.documentElement.outerHTML,n=RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=e.replace(n,"$1").trim());o<s.length;o++){if("interactive"===s[o].readyState)return s[o];if(s[o].src===c)return s[o];if(c===a&&s[o].innerHTML&&s[o].innerHTML.trim()===r)return s[o]}return null}}})}(document),!function(){if(!document.currentScript)return!1;var t,e,n="https://www.thehotelsnetwork.com/polyfill/v3/polyfill.min.js",r={generic:{test:function(){const t=!!(window.URL&&"Symbol"in self&&window.EventSource&&window.fetch&&"name"in Function.prototype&&"isInteger"in Number&&"MAX_SAFE_INTEGER"in Number&&"Promise"in self&&[].fill&&[].flat&&[].includes&&[].flatMap&&Object.assign&&window.Map&&window.WeakMap&&"navigator"in self&&"sendBeacon"in navigator&&"function"==typeof navigator.sendBeacon&&"AbortController"in self&&"function"==typeof self.AbortController&&"padStart"in String.prototype&&"padEnd"in String.prototype&&"replaceAll"in String.prototype&&"includes"in String.prototype&&"queueMicrotask"in self&&"object"==typeof globalThis),e=null!==document.querySelector('script[src="'+r.generic.urls[0]+'"]');return!t&&!e},urls:["".concat(n,"?version=3.111.0&features=Symbol%2Cdefault%2Cfetch%2CEventSource%2CFunction.name%2CNumber.isInteger%2CNumber.MAX_SAFE_INTEGER%2CWeakMap%2CArray.prototype.flat%2CArray.prototype.includes%2CArray.prototype.flatMap%2Cnavigator.sendBeacon%2CAbortController%2CString.prototype.padStart%2CString.prototype.padEnd%2CString.prototype.replaceAll%2CqueueMicrotask%2CglobalThis")]},"Fn.bind":{test:function(){const t=isNative(Function.prototype.bind),e=null!==document.querySelector('script[src="'+r["Fn.bind"].urls[0]+'"]');return!t&&!e},urls:["".concat(n,"?version=3.111.0&features=Function.prototype.bind%7Calways&excludes=Object.defineProperty")]},ric:{test:function(){const t=!!window.requestIdleCallback,e=null!==document.querySelector('script[src="'+r.ric.urls[0]+'"]');return!t&&!e},urls:["".concat(n,"?version=3.111.0&features=requestIdleCallback")]}},o=[window,document,"script"],i=[],c=function(t,e,n,r,o,c){var l;o=e.createElement(n),c=e.currentScript,o.src=r,o.inject=function(){(c.parentNode||e.head).insertBefore(o,c.parentNode&&c||e.head.lastElementChild),setTimeout(o.onload,1e3)},o.onload=(l=!1,function(){l||(l=!0,(i.shift()||{inject:function(){}}).inject())}),i.push(o)};for(t in r)if(r.hasOwnProperty(t)&&r[t].test())for(e=0;e<r[t].urls.length;e+=1)c.apply(null,o.concat(r[t].urls[e]));var l=i.length;return l&&(c.apply(null,o.concat(document.currentScript.src)),i.shift().inject()),!!l}()){try{window.performance.clearMarks("thn-loader-start"),window.performance.mark("thn-loader-start",{details:{currentScript:document.currentScript}})}catch(t){}!function(){"use strict";function t(t){return!t||"object"!=typeof t&&"function"!=typeof t}function e(t){const e="string"==typeof t;return function(n){return function(r){const o=typeof r;return e&&o===t||!e&&t&&t(r)||"object"===o&&(p(n)&&n.includes(Object.prototype.toString.call(r))||Object.prototype.toString.call(r)===n)}}}function n(t,e){return Array.isArray(e)?Object(t)===t&&e.every((e=>Object.prototype.hasOwnProperty.call(t,e))):n(t,[e])}function r(t){return"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)}function o(t){return t instanceof globalThis.Promise||"object"==typeof t&&t&&(m(t.then)||n(t,["isFulfilled","isRejected"]))}function i(t){return function e(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return 1===r.length&&Array.isArray(r[0])?e(...r.pop()):function(e){return r[t]((t=>t(e)))}}}function c(t,e){return A(e)?"---replaced---":e}function l(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];let[r,o,i]=e,l=[r,o,i];return m(o)?l=[r,(t,e)=>o(t,c(0,e)),i]:p(o)||(l=[r,c,i]),globalThis.JSON.stringify.apply(null,l)}function a(){const t=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 1===e.length&&p(e[0])&&(e=e.pop()),function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.reduce(((t,e,n)=>e.apply(this,0===n?t:[t])),n)}}(...arguments);return e=>e&&t(e)}function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const e=Array(t.length);for(let n=0;n<t.length;n+=1){const r=t.charCodeAt(n);e[n]=String.fromCharCode(r>=33&&r<=126?33+(r+14)%94:r)}return e.join("")}function u(t){return Array.from(t).map((t=>/^[\x00-\x7F]$/.test(t)?t:t.split("").map((t=>"\\u".concat(t.charCodeAt(0).toString(16).padStart(4,"0")))).join(""))).join("")}"undefined"==typeof self||self.thn||(self.thn={},function(){function t(t,e){return(e||"")+" (SystemJS https://github.com/systemjs/systemjs/blob/main/docs/errors.md#"+t+")"}function e(t,e){if(-1!==t.indexOf("\\")&&(t=t.replace(E,"/")),"/"===t[0]&&"/"===t[1])return e.slice(0,e.indexOf(":")+1)+t;if("."===t[0]&&("/"===t[1]||"."===t[1]&&("/"===t[2]||2===t.length&&(t+="/"))||1===t.length&&(t+="/"))||"/"===t[0]){var n,r=e.slice(0,e.indexOf(":")+1);if(n="/"===e[r.length+1]?"file:"!==r?(n=e.slice(r.length+2)).slice(n.indexOf("/")+1):e.slice(8):e.slice(r.length+("/"===e[r.length])),"/"===t[0])return e.slice(0,e.length-n.length-1)+t;for(var o=n.slice(0,n.lastIndexOf("/")+1)+t,i=[],c=-1,l=0;l<o.length;l++)-1!==c?"/"===o[l]&&(i.push(o.slice(c,l+1)),c=-1):"."===o[l]?"."!==o[l+1]||"/"!==o[l+2]&&l+2!==o.length?"/"===o[l+1]||l+1===o.length?l+=1:c=l:(i.pop(),l+=2):c=l;return-1!==c&&i.push(o.slice(c)),e.slice(0,e.length-n.length)+i.join("")}}function n(t,n){return e(t,n)||(-1!==t.indexOf(":")?t:e("./"+t,n))}function r(t,n,r,o,i){for(var c in t){var s=e(c,r)||c,u=t[c];if("string"==typeof u){var f=a(o,e(u,r)||u,i);f?n[s]=f:l("W1",c,u)}}}function o(t,e,o){var i;for(i in t.imports&&r(t.imports,o.imports,e,o,null),t.scopes||{}){var c=n(i,e);r(t.scopes[i],o.scopes[c]||(o.scopes[c]={}),e,o,c)}for(i in t.depcache||{})o.depcache[n(i,e)]=t.depcache[i];for(i in t.integrity||{})o.integrity[n(i,e)]=t.integrity[i]}function i(t,e){if(e[t])return t;var n=t.length;do{var r=t.slice(0,n+1);if(r in e)return r}while(-1!==(n=t.lastIndexOf("/",n-1)))}function c(t,e){var n=i(t,e);if(n){var r=e[n];if(null===r)return;if(!(t.length>n.length&&"/"!==r[r.length-1]))return r+t.slice(n.length);l("W2",n,r)}}function l(e,n,r,o){console.warn(t(e,[r,n].join(", ")))}function a(t,e,n){for(var r=t.scopes,o=n&&i(n,r);o;){var l=c(e,r[o]);if(l)return l;o=i(o.slice(0,o.lastIndexOf("/")),r)}return c(e,t.imports)||-1!==e.indexOf(":")&&e}function s(){this[T]={}}function u(e,n,r,o){var i=n.split("?")[0],c=e[T][i];if(c)return c;var l=[],a=Object.create(null);O&&Object.defineProperty(a,O,{value:"Module"});var s=Promise.resolve().then((function(){return e.instantiate(n,r,o)})).then((function(r){if(!r)throw Error(t(2,n));var o=r[1]((function(t,e){c.h=!0;var n=!1;if("string"==typeof t)t in a&&a[t]===e||(a[t]=e,n=!0);else{for(var r in t)e=t[r],r in a&&a[r]===e||(a[r]=e,n=!0);t&&t.__esModule&&(a.__esModule=t.__esModule)}if(n)for(var o=0;o<l.length;o++){var i=l[o];i&&i(a)}return e}),2===r[1].length?{import:function(t,n){return e.import(t,i,n)},meta:e.createContext(i)}:void 0);return c.e=o.execute||function(){},[r[0],o.setters||[],r[2]||[]]}),(function(t){throw c.e=null,c.er=t,t})),f=s.then((function(t){return Promise.all(t[0].map((function(n,r){var o=t[1][r],c=t[2][r];return Promise.resolve(e.resolve(n,i)).then((function(t){var n=u(e,t,i,c);return Promise.resolve(n.I).then((function(){return o&&(n.i.push(o),!n.h&&n.I||o(n.n)),n}))}))}))).then((function(t){c.d=t}))}));return c=e[T][i]={id:i,i:l,n:a,m:o,I:s,L:f,h:!1,d:void 0,e:void 0,er:void 0,E:void 0,C:void 0,p:void 0}}function f(t,e,n,r){if(!r[e.id])return r[e.id]=!0,Promise.resolve(e.L).then((function(){return e.p&&null!==e.p.e||(e.p=n),Promise.all(e.d.map((function(e){return f(t,e,n,r)})))})).catch((function(t){if(e.er)throw t;throw e.e=null,t}))}function d(t,e){return e.C=f(t,e,e,{}).then((()=>{var t,e;return(null===(t=globalThis.scheduler)||void 0===t||null===(e=t.yield)||void 0===e?void 0:e.call(t))||Promise.resolve()})).then((function(){return h(t,e,{})})).then((()=>{var t,e;return(null===(t=globalThis.scheduler)||void 0===t||null===(e=t.yield)||void 0===e?void 0:e.call(t))||Promise.resolve()})).then((function(){return e.n}))}function h(t,e,n){function r(){try{var t=i.call(C);if(t)return t=t.then((function(){e.C=e.n,e.E=null}),(function(t){throw e.er=t,e.E=null,t})),e.E=t;e.C=e.n,e.L=e.I=void 0}catch(t){throw e.er=t,t}}if(!n[e.id]){if(n[e.id]=!0,!e.e){if(e.er)throw e.er;return e.E?e.E:void 0}var o,i=e.e;return e.e=null,e.d.forEach((function(r){try{var i=h(t,r,n);i&&(o=o||[]).push(i)}catch(t){throw e.er=t,t}})),o?Promise.all(o).then(r):r()}}function p(){[].forEach.call(document.querySelectorAll("script"),(function(e){if(!e.sp)if("systemjs-module"===e.type){if(e.sp=!0,!e.src)return;System.import("import:"===e.src.slice(0,7)?e.src.slice(7):n(e.src,v)).catch((function(t){if(t.message.indexOf("https://github.com/systemjs/systemjs/blob/main/docs/errors.md#3")>-1){var n=document.createEvent("Event");n.initEvent("error",!1,!1),e.dispatchEvent(n)}return Promise.reject(t)}))}else if("systemjs-importmap"===e.type){e.sp=!0;var r=e.src?(System.fetch||fetch)(e.src,{integrity:e.integrity,passThrough:!0}).then((function(t){if(!t.ok)throw Error(t.status);return t.text()})).catch((function(n){return n.message=t("W4",e.src)+"\n"+n.message,console.warn(n),"function"==typeof e.onerror&&e.onerror(),"{}"})):e.innerHTML;k=k.then((function(){return r})).then((function(n){!function(e,n,r){var i={};try{i=JSON.parse(n)}catch(e){console.warn(Error(t("W5")))}o(i,r,e)}(x,n,e.src||v)}))}}))}var v,m="undefined"!=typeof Symbol,g="undefined"!=typeof self,y="undefined"!=typeof document,b=g?self:global;if(y){var w=document.querySelector("base[href]");w&&(v=w.href)}if(!v&&"undefined"!=typeof location){var S=(v=location.href.split("#")[0].split("?")[0]).lastIndexOf("/");-1!==S&&(v=v.slice(0,S+1))}var j,E=/\\/g,O=m&&Symbol.toStringTag,T=m?Symbol():"@",P=s.prototype;P.delete=function(t){var e=this[T],n=e[t];if(!n||n.p&&null!==n.p.e||n.E)return!1;var r=n.i;return n.d&&n.d.forEach((function(t){var e=t.i.indexOf(n);-1!==e&&t.i.splice(e,1)})),delete e[t],function(){var n=e[t];if(!n||!r||null!==n.e||n.E)return!1;r.forEach((function(t){n.i.push(t),t(n.n)})),r=null}},P.import=function(t,e,n){var r=this;return e&&"object"==typeof e&&(n=e,e=void 0),Promise.resolve(r.prepareImport()).then((function(){return r.resolve(t,e,n)})).then((function(t){var e=u(r,t,void 0,n);return e.C||d(r,e)}))},P.createContext=function(t){var e=this;return{url:t,resolve:function(n,r){return Promise.resolve(e.resolve(n,r||t))}}},P.register=function(t,e,n){j=[t,e,n]},P.getRegister=function(){var t=j;return j=void 0,t};var C=Object.freeze(Object.create(null));b.thn.System=new s;var _,A,k=Promise.resolve(),x={imports:{},scopes:{},depcache:{},integrity:{}},I=y;if(P.prepareImport=function(t){return(I||t)&&(p(),I=!1),k},y&&(p(),window.addEventListener("DOMContentLoaded",p)),P.addImportMap=function(t,e){o(t,e||v,x)},y){window.addEventListener("error",(function(t){M=t.filename,F=t.error}));var L=location.origin}P.createScript=function(t){var e=document.createElement("script");e.async=!0,t.indexOf(L+"/")&&(e.crossOrigin="anonymous");var n=x.integrity[t];return n&&(e.integrity=n),e.src=t,e};var M,F,N={},R=P.register;P.register=function(t,e){if(y&&"loading"===document.readyState&&"string"!=typeof t){var n=document.querySelectorAll("script[src]"),r=n[n.length-1];if(r){_=t;var o=this;A=setTimeout((function(){N[r.src]=[t,e],o.import(r.src)}))}}else _=void 0;return R.call(this,t,e)},P.instantiate=function(e,n){var r=N[e];if(r)return delete N[e],r;var o=this;return Promise.resolve(P.createScript(e)).then((function(r){return new Promise((function(i,c){r.addEventListener("error",(function(){c(Error(t(3,[e,n].join(", "))))})),r.addEventListener("load",(function(){try{document.head.removeChild(r)}catch(t){}if(M===e)c(F);else{var t=o.getRegister(e);t&&t[0]===_&&clearTimeout(A),setTimeout((()=>{i(t)}),0)}})),document.head.appendChild(r)}))}))},P.shouldFetch=function(){return!1},"undefined"!=typeof fetch&&(P.fetch=fetch);var q=P.instantiate,$=/^(text|application)\/(x-)?javascript(;|$)/;P.instantiate=function(e,n,r){var o=this;return this.shouldFetch(e,n,r)?this.fetch(e,{credentials:"same-origin",integrity:x.integrity[e],meta:r}).then((function(r){if(!r.ok)throw Error(t(7,[r.status,r.statusText,e,n].join(", ")));var i=r.headers.get("content-type");if(!i||!$.test(i))throw Error(t(4,i));return r.text().then((function(t){return t.indexOf("//# sourceURL=")<0&&(t+="\n//# sourceURL="+e),(0,eval)(t),o.getRegister(e)}))})):q.apply(this,arguments)},P.resolve=function(n,r){return a(x,e(n,r=r||v)||n,r)||function(e,n){throw Error(t(8,[e,n].join(", ")))}(n,r)};var U=P.instantiate;P.instantiate=function(t,e,n){var r=x.depcache[t];if(r)for(var o=0;o<r.length;o++)u(this,this.resolve(r[o],t),t);return U.call(this,t,e,n)},g&&"function"==typeof importScripts&&(P.instantiate=function(t){var e=this;return Promise.resolve().then((function(){return importScripts(t),e.getRegister(t)}))})}(),function(t){var e,n=t.thn.System.constructor.prototype,r=n.resolve;n.resolve=function(t,n){var o,i,c;return e?r.call(this,function(t){var n,r,o;return"."!==(o=t).slice(0,1)&&"http"!==o.slice(0,4)?t:(r=[(n=t.split("?"))[1],e].filter((t=>t)).join("&").replace(/\w/,"?$&"),n[0]+r)}(t),n):(".js"===(null==(i=o=r.call(this,t,n))||null===(c=i.split("?")[0])||void 0===c?void 0:c.slice(-3))&&(e=t.split("?")[1]||o.split("?")[1]||""),o)}}("undefined"!=typeof self?self:global));const f="data-thn-current",d="__thn_script_src";var h=function e(){var n=[].slice.call(arguments),r=!1;"boolean"==typeof n[0]&&(r=n.shift());var o=n[0];if(t(o))throw Error("extendee must be an object");for(var i,c=n.slice(1),l=c.length,a=0;a<l;a++){var s=c[a];for(var u in s)if(Object.prototype.hasOwnProperty.call(s,u)){var f=s[u];if(r&&(Array.isArray(i=f)||"[object Object]"=={}.toString.call(i))){var d=Array.isArray(f)?[]:{};o[u]=e(!0,Object.prototype.hasOwnProperty.call(o,u)&&!t(o[u])?o[u]:d,f)}else o[u]=f}}return o};const{isArray:p}=Array,v=t=>r(t)&&n(t,["$decorator","$register","$list"]),m=e("function")(["[object AsyncFunction]","[object Function]","[object GeneratorFunction]","[object Proxy]"]),g=t=>null!=t&&"object"==typeof t&&1===t.nodeType&&!r(t),y=e()(["[object DOMWindow]","[object global]","[object Window]"]),b=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return h(!0,t,...n)},w="personalization-",S=["instant-btn","kittchat","".concat(w,"inliner"),"".concat(w,"notify"),"".concat(w,"popify"),"price-widget","review-widget"],j=["agent-engines","agent-partnerships","agent-types","md5"],E=["agent-fingerprint"],O=["jquery","moment-timezone","vue"],T=t=>"".concat("@thehotelsnetwork/").concat(t),P=t=>t.flatMap((t=>[t,t.map((t=>"".concat(t,"/")))])),C=function(t,e){return e[t]||(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"latest")},_=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e=>""+new URL("/sjs".concat(e),t),o=Object.fromEntries(P([].concat(O.map((t=>[t,r("/".concat(t,"@").concat(C(t,e),"&bundle"))])),j.map((t=>{const n=T(t);return[n,r("/".concat(n,"@").concat(C(n,e),"&bundle"))]})),E.map((t=>{const n=T(t);return[n,r("/*".concat(n,"@").concat(C(n,e),"&no-bundle"))]})),S.map((t=>{const n=T(t);return[n,r("/".concat(n,"@").concat(C(n,e,"stable"),"&external=vue&no-bundle"))]}))))),i=Object.fromEntries(P(Object.entries(e).filter((t=>{let[e]=t;return!n(o,e)})).map((t=>{let[n]=t;return[n,r("/".concat(n,"@").concat(C(n,e),"&bundle"))]}))));return{imports:b(o,i)}},A=i("some")(g,v,o,y),k={accountKey:{key:"account_key"},hotelId:{key:"hotel_id"},propertyId:{key:"property_id",encoder:a(l,u,s,globalThis.btoa)}},x="/get_loader_data",I=function(){const t=function(t){var e={},n=function(){var n=Array.prototype.slice.call(arguments),r=JSON.stringify(n);return r in e||(e[r]=t.apply(this,n)),e[r]};return n.cache=e,n}((function(t){const{URL:e}=globalThis,n=new e(t),[r,o,i,c,l,a,s]=[n.searchParams.get("property_id"),n.searchParams.get("hotel_id"),n.searchParams.get("account_key"),n.searchParams.get("bahiaprincipe_id"),n.searchParams.get("octorate_id"),n.searchParams.get("partnership_id"),n.searchParams.get("partnership_hotel_id")];if(r)return Promise.resolve({propertyId:r});if(o||c||l||a&&s){const t=new e(n);return t.pathname="/get_hotel_property_rel",globalThis.fetch(""+t).then((t=>{if(!t.ok)throw Error("".concat(t.status," ").concat(t.statusText));return t.json()})).then((t=>{const e={};return t&&1===t.result?(t.property_id&&(e.propertyId=t.property_id),t.account_key&&(e.accountKey=t.account_key),e):e}))}return Promise.resolve(i?{accountKey:i}:{})}));return t.cache.clear=()=>{Object.keys(t.cache).forEach((e=>{"clear"!==e&&delete t.cache[e]}))},t}(),L=t=>t[d]&&{src:t[d]}||t.document.querySelector("script[".concat(f,'="1"]'))||t.thn[d],M={async install(t){var e,n,r,o;let{thn:i,window:c}=t;const l=L(c);if(!l)return;const{URL:a}=c,s=new a(l.src);s.protocol="https:";const u=await I(l.src),f=await function(t){var e;let{params:n,baseUrl:r}=t;if(!r)return Promise.reject();const{URL:o}=globalThis,i=new o(r);let c;return i.pathname=x,Object.entries(n).forEach((t=>{let[e,n]=t;if(void 0!==n){const t=function(t){return t in k}(e);i.searchParams.set(t?k[e].key:e,(t&&k[e].encoder||String)(n+""))}})),c=null!==(e=globalThis.thn)&&void 0!==e&&e.System?globalThis.thn.System.import(""+i).then((t=>{var e,n,c,l,a,s;const u=new o(x,r);return null===(e=globalThis.thn)||void 0===e||null===(n=e.System)||void 0===n||null===(c=n.delete)||void 0===c||c.call(n,""+u),null===(l=globalThis.thn)||void 0===l||null===(a=l.System)||void 0===a||null===(s=a.delete)||void 0===s||s.call(a,""+i),t.default||{}})):globalThis.fetch(""+i,{credentials:"include",headers:{accept:"application/json"}}).then((t=>t.ok&&t.json()||{})),c.then((t=>{var e;const n=null==t||null===(e=t.data)||void 0===e?void 0:e.initData;return n&&(n.office=t.office,n.hostnameReal=n.hostname,n.hostname=i.host),t})).catch((()=>({})))}({params:u,baseUrl:l.src}),{defaultVersion:h,office:p}=f,v=null==f||null===(e=f.data)||void 0===e?void 0:e.initData,m="index".concat(!1===(null==v?void 0:v.minified)?"":".min",".js"),g=new a("/widget/core/".concat(null!==(n=null!==(r=null==v?void 0:v.version)&&void 0!==r?r:h)&&void 0!==n?n:"4.0","/dist/main/").concat(m),s),y=null==f||null===(o=f.checksums)||void 0===o?void 0:o.main[m];y&&g.searchParams.set("h",y);const w=b({imports:{"@thehotelsnetwork/agent-main":""+g}},_(s.origin)),S=b(w,f.importmap||{});i.System.addImportMap(S),await function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{document:e,MutationObserver:n}=globalThis,{document:r=e,MutationObserver:o=n}=t;return r.body?Promise.resolve():new Promise((t=>{const e=new o((n=>{n.some((n=>Array.from(n.addedNodes).some((n=>n===r.body&&(e.disconnect(),t(),!0)))))}));e.observe(r.documentElement,{childList:!0})}))}(c);const{default:j}=await i.System.import("@thehotelsnetwork/agent-main");if(j.System=i.System,j[d]=i[d],c.thn=j,j.Logger.setLevel(f.loggerLevel&&j.Logger[f.loggerLevel]||p&&j.Logger.DEBUG||j.Logger.OFF),await j.container.scheduler.yield(),f.data)j.siteCheck({loader:f});else{const t=s.searchParams.get("partnership_id")||"";j.partnershipCheck(t)}}};var F=Object.freeze({__proto__:null,plugin:M});!function(t,e){const n={monolith:F};if((t=>{t.requestIdleCallback=t.requestIdleCallback||(t=>setTimeout(t,1))})(globalThis),!(t=>{let{document:e,thn:n}=t;const{currentScript:r}=e;if(r){const t=[...e.querySelectorAll("script[".concat(f,"]")),n[d]].filter(Boolean),o=t.filter((t=>!(r.src===t.src&&+t.getAttribute(f))));o.forEach((t=>{t.setAttribute(f,0)}));const i=o.length===t.length?1:0;if(r.setAttribute(f,i),!i)return!1;n[d]=r}return!0})(globalThis))return;const{URL:r}=globalThis,o=new r(L(globalThis).src);o.protocol="https:","caches"in globalThis&&async function(t){try{const e=await t.keys(),n=await Promise.all(e.map((e=>t.open(e)))),r=await Promise.all(n.map((t=>t.keys()))),i=[];return n.forEach(((t,e)=>{r[e].forEach((e=>{var n;(n=e).url.includes(o.host)&&-1===n.url.indexOf("/__OFFLINE__/")&&i.push(t.delete(e))}))})),await Promise[Promise.allSettled?"allSettled":"all"](i).catch((()=>"")),""}catch(t){return""}}(globalThis.caches),((null===(t=globalThis.scheduler)||void 0===t||null===(e=t.yield)||void 0===e?void 0:e.call(t))||Promise.resolve()).then((()=>Promise.resolve({plugins:["monolith"],importmap:{}}))).then((t=>{let{plugins:e,importmap:r}=t;r&&globalThis.thn.System.addImportMap(r),e.reduce(((t,e)=>t.then((()=>(async t=>{var e;const{thn:r}=globalThis,{plugin:o}=await(t in n?Promise.resolve(n[t]):r.System.import("@thehotelsnetowrk/agent-plugin-".concat(t)));return null===globalThis||void 0===globalThis||null===(e=globalThis.performance)||void 0===e||e.mark("thn-loader-plugin-install",{details:{pluginName:t}}),o.install({thn:r,window:globalThis})})(e))).catch()),Promise.resolve()).then((()=>{var t,e,n,r,o,i;try{var c,l,a,s,u,f;globalThis.thn.logger.debug("(timing) from domInteractive to loader-start:",null===(c=globalThis.performance)||void 0===c||null===(l=c.measure)||void 0===l||null===(a=l.call(c,"domInteractive:thn-loader-start:diff","domInteractive","thn-loader-start"))||void 0===a?void 0:a.duration),globalThis.thn.logger.debug("(timing) from loader-start to loader-end:",null===(s=globalThis.performance)||void 0===s||null===(u=s.measure)||void 0===u||null===(f=u.call(s,"thn-loader-start:thn-loader-end:diff","thn-loader-start"))||void 0===f?void 0:f.duration)}catch(t){}null===(t=globalThis.thn)||void 0===t||null===(e=t.logger)||void 0===e||e.debug("(timing) loader-start: ".concat(new Date(((null===(n=globalThis.performance)||void 0===n?void 0:n.timeOrigin)||0)+((null===(r=globalThis.performance)||void 0===r||null===(o=r.getEntriesByName)||void 0===o||null===(i=o.call(r,"thn-loader-start"))||void 0===i?void 0:i.reverse()[0].startTime)||0)).toISOString()))}))}))}()}()}}();